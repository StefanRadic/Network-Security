version 15.0
no service timestamps log datetime msec
no service timestamps debug datetime msec
service password-encryption
!
hostname S1
!
!
!
ip ssh version 2
ip ssh authentication-retries 2
ip ssh time-out 30
no ip domain-lookup
ip domain-name www.secure-network.com
!
vtp mode transparent
!
ip arp inspection vlan 10,20
ip arp inspection validate src-mac dst-mac ip
!
ip dhcp snooping vlan 10,20
no ip dhcp snooping information option
ip dhcp snooping
!
spanning-tree mode rapid-pvst
spanning-tree extend system-id
!
vlan 10
 name VLAN_10
!
vlan 20
 name VLAN_20
!
vlan 99
 name MANAGEMENT
!
vlan 998
 name NATIVE
!
vlan 999
 name BLACK_HOLE
!
interface FastEthernet0/1
 switchport trunk native vlan 998
 switchport trunk allowed vlan 10,20,99
 ip arp inspection trust
 ip dhcp snooping trust
 switchport mode trunk
 switchport nonegotiate
!
interface FastEthernet0/2
 switchport trunk native vlan 998
 switchport trunk allowed vlan 10,20,99
 ip arp inspection trust
 ip dhcp snooping trust
 switchport mode trunk
 switchport nonegotiate
!
interface FastEthernet0/3
 switchport access vlan 999
 switchport mode access
 switchport nonegotiate
 spanning-tree bpduguard enable
 shutdown
!
interface FastEthernet0/4
 switchport access vlan 999
 switchport mode access
 switchport nonegotiate
 spanning-tree bpduguard enable
 shutdown
!
interface FastEthernet0/5
 switchport access vlan 10
 ip dhcp snooping limit rate 5
 switchport mode access
 switchport port-security
 switchport port-security mac-address sticky 
 switchport port-security mac-address sticky 000C.8564.A5CB
 no cdp enable
 spanning-tree portfast
 spanning-tree bpduguard enable
!
interface FastEthernet0/6
 switchport access vlan 999
 switchport mode access
 switchport nonegotiate
 spanning-tree bpduguard enable
 shutdown
!
interface FastEthernet0/7
 switchport access vlan 999
 switchport mode access
 switchport nonegotiate
 spanning-tree bpduguard enable
 shutdown
!
interface FastEthernet0/8
 switchport access vlan 999
 switchport mode access
 switchport nonegotiate
 spanning-tree bpduguard enable
 shutdown
!
interface FastEthernet0/9
 switchport access vlan 999
 switchport mode access
 switchport nonegotiate
 spanning-tree bpduguard enable
 shutdown
!
interface FastEthernet0/10
 switchport access vlan 20
 switchport mode access
 switchport nonegotiate
 switchport port-security
 switchport port-security mac-address sticky 
 switchport port-security mac-address sticky 0001.640B.784A
 no cdp enable
 spanning-tree portfast
 spanning-tree bpduguard enable
!
interface FastEthernet0/11
 switchport access vlan 999
 switchport mode access
 switchport nonegotiate
 spanning-tree bpduguard enable
 shutdown
!
interface FastEthernet0/12
 switchport access vlan 999
 switchport mode access
 switchport nonegotiate
 spanning-tree bpduguard enable
 shutdown
!
interface FastEthernet0/13
 switchport access vlan 999
 switchport mode access
 switchport nonegotiate
 spanning-tree bpduguard enable
 shutdown
!
interface FastEthernet0/14
 switchport access vlan 999
 switchport mode access
 switchport nonegotiate
 spanning-tree bpduguard enable
 shutdown
!
interface FastEthernet0/15
 switchport access vlan 999
 switchport mode access
 switchport nonegotiate
 spanning-tree bpduguard enable
 shutdown
!
interface FastEthernet0/16
 switchport access vlan 999
 switchport mode access
 switchport nonegotiate
 spanning-tree bpduguard enable
 shutdown
!
interface FastEthernet0/17
 switchport access vlan 999
 switchport mode access
 switchport nonegotiate
 spanning-tree bpduguard enable
 shutdown
!
interface FastEthernet0/18
 switchport access vlan 999
 switchport mode access
 switchport nonegotiate
 spanning-tree bpduguard enable
 shutdown
!
interface FastEthernet0/19
 switchport access vlan 999
 switchport mode access
 switchport nonegotiate
 spanning-tree bpduguard enable
 shutdown
!
interface FastEthernet0/20
 switchport access vlan 999
 switchport mode access
 switchport nonegotiate
 spanning-tree bpduguard enable
 shutdown
!
interface FastEthernet0/21
 switchport access vlan 999
 switchport mode access
 switchport nonegotiate
 spanning-tree bpduguard enable
 shutdown
!
interface FastEthernet0/22
 switchport access vlan 999
 switchport mode access
 switchport nonegotiate
 spanning-tree bpduguard enable
 shutdown
!
interface FastEthernet0/23
 switchport access vlan 999
 switchport mode access
 switchport nonegotiate
 spanning-tree bpduguard enable
 shutdown
!
interface FastEthernet0/24
 switchport access vlan 999
 switchport mode access
 switchport nonegotiate
 spanning-tree bpduguard enable
 shutdown
!
interface GigabitEthernet0/1
!
interface GigabitEthernet0/2
!
interface Vlan1
 no ip address
 shutdown
!
interface Vlan10
 no ip address
!
interface Vlan20
 no ip address
!
interface Vlan99
 ip address 192.168.99.251 255.255.255.0
!
interface Vlan998
 no ip address
!
interface Vlan999
 no ip address
!
ip default-gateway 192.168.99.2
!
!
!
!
line con 0
 logging synchronous
 exec-timeout 1 0
!
line vty 0 2
 password 7 0822455D0A16
 login
 transport input ssh
line vty 3 4
 no login
 transport input none
line vty 5 14
 no login
 transport input none
line vty 15
 login
!
!
!
!
end